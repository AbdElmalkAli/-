<!doctype html>
<html lang="en">
<head>
  <link rel="icon" type="image/png" href="../imges/download.jpg">
  <meta charset="utf-8" />
  <title>ÿ™ÿÆÿ≤ŸÜ</title>
  <link rel="stylesheet" href="../css/css.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      background:#71e3ff;
      color:#fff;
      margin:0;
      padding:20px;
      text-align:center;
    }
    h1 {
      color:#ffffff;
      font-size:2.6rem;
    }
    input, button, select {
      padding:10px;
      font-size:1.5rem;
      margin:10px;
      border-radius:10px;
      border:2px solid #4CAF50;
      width:80%; 
      max-width:700px;
      display:block;
      margin-left:auto;
      margin-right:auto;
    }
    button {
      background:#45a049;
      color:white;
      font-weight:bold;
      cursor:pointer;
    }
    button:hover { background:#45a049; border-left:6px solid #04790a; }
    button:active { background-color: transparent; scale:.9; }
    .list {
      margin-top:20px;
      text-align:left;
      background:#fffefe;
      padding:20px;
      border-radius:12px;
      max-width:900px;
      margin-left:auto;
      margin-right:auto;
      font-size:1.3rem;
    }
    .item {
      background:#333;
      padding:15px;
      margin:10px 0;
      border-left:6px solid #4CAF50;
      display:flex;
      justify-content:space-between;
      align-items:center;
      border-radius:8px;
    }
    .deleteBtn {
      background:#f44336;
      border:none;
      padding:15px 25px;
      color:white;
      border-radius:8px;
      font-size:1.2rem;
      cursor:pointer;
    }
    .deleteBtn:hover{ background-color:#af1105; border-left:6px solid #d21305; }
    .error {
      color:red;
      font-size:1.3rem;
      display:none;
    }
    h3{ color:black; }
    #input4 {
      background:#fff;
      color:black;
    }
  </style>
</head>
<body>
  <h1>welcame</h1>

  <input id="search" placeholder="üîç Search..." />
  <input id="input1" placeholder="ÿßÿ≥ŸÖŸä ÿßŸÑÿπŸÖŸÑÿßÿ°" />
  <input id="input2" type="number" placeholder="ÿ±ŸÇŸÖ ÿßŸÑÿπŸÖŸÑÿßÿ°" />
  <input id="input3" placeholder="ÿßŸä ÿ≠ÿßÿ¨Ÿá" />
  <select id="input4">
    <option value="">-- ÿßÿÆÿ™ÿ± ÿßŸÑÿ®ŸÑÿØ --</option>
    <option value="Egypt">Egypt</option>
    <option value="Saudi Arabia">Saudi Arabia</option>
    <option value="UAE">UAE</option>
    <option value="Kuwait">Kuwait</option>
    <option value="Qatar">Qatar</option>
    <option value="USA">USA</option>
    <option value="UK">UK</option>
    <option value="France">France</option>
    <option value="Germany">Germany</option>
  </select>  
  <button id="save">Save</button>
  <p id="error" class="error">error‚ùå</p>

  <div class="list" id="list">
    <h3>Saved Data:</h3>
  </div>

  <script>
    console.log('by AbdElmalk');

    let savedData = JSON.parse(localStorage.getItem("entries")) || [];

    function renderList(filter = "") {
      const list = document.getElementById("list");
      list.innerHTML = "<h3>Saved Data:</h3>";
      savedData.forEach((entry, index) => {
        const text = `${entry.input1} ${entry.input2} ${entry.input3} ${entry.input4}`.toLowerCase();
        if (text.includes(filter.toLowerCase())) {
          const div = document.createElement("div");
          div.className = "item";
          div.innerHTML = `
            <div>
              <span><b>ÿßÿ≥ŸÖŸä ÿßŸÑÿπŸÖŸÑÿßÿ°:</b> ${entry.input1}</span>
              <span><b>ÿ±ŸÇŸÖ:</b> ${entry.input2}</span>
              <span><b>ÿßŸä ÿ≠ÿßÿ¨Ÿá:</b> ${entry.input3}</span>
              <span><b>ÿßŸÑÿ®ŸÑÿØ:</b> ${entry.input4}</span>
            </div>
            <button class="deleteBtn" data-index="${index}">Delete</button>
          `;
          list.appendChild(div);
        }
      });

      document.querySelectorAll(".deleteBtn").forEach(btn => {
        btn.addEventListener("click", (e) => {
          const index = e.target.getAttribute("data-index");
          savedData.splice(index, 1);
          localStorage.setItem("entries", JSON.stringify(savedData));
          renderList(document.getElementById("search").value);
        });
      });
    }

    renderList();

    document.getElementById("save").addEventListener("click", () => {
      const input1 = document.getElementById("input1");
      const input2 = document.getElementById("input2");
      const input3 = document.getElementById("input3");
      const input4 = document.getElementById("input4");
      const error = document.getElementById("error");

      // ÿ™ÿ≠ŸÇŸÇ ÿ•ÿ∞ÿß ŸÉÿßŸÜÿ™ ŸÉŸÑ ÿßŸÑÿÆÿßŸÜÿßÿ™ ŸÅÿßÿ∂Ÿäÿ©
      if (
        input1.value.trim() === "" &&
        input2.value.trim() === "" &&
        input3.value.trim() === "" &&
        input4.value.trim() === ""
      ) {
        error.style.display = "block";
        [input1, input2, input3, input4].forEach(inp => inp.style.border = "2px solid red");
        return; // ŸäŸàŸÇŸÅ ÿßŸÑÿ™ŸÜŸÅŸäÿ∞
      } else {
        error.style.display = "none";
        [input1, input2, input3, input4].forEach(inp => inp.style.border = "2px solid #4CAF50");
      }

      const entry = {
        input1: input1.value,
        input2: input2.value,
        input3: input3.value,
        input4: input4.value
      };

      savedData.push(entry);
      localStorage.setItem("entries", JSON.stringify(savedData));
      renderList(document.getElementById("search").value);

      // ÿ™ŸÅÿ±Ÿäÿ∫ ÿßŸÑÿ≠ŸÇŸàŸÑ
      input1.value = "";
      input2.value = "";
      input3.value = "";
      input4.value = "";
    });

    document.getElementById("search").addEventListener("input", (e) => {
      renderList(e.target.value);
    });
  </script>
</body>
</html>
